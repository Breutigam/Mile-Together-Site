<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Miles Together</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50 text-gray-800">
  <header class="flex items-center justify-between p-4 bg-white shadow-sm">
    <span class="text-lg font-semibold">🏃‍♀️ Miles Together</span>
  </header>

  <main class="max-w-4xl mx-auto p-4 grid md:grid-cols-2 gap-6">
    <!-- Distance Card -->
    <section class="bg-white shadow rounded-lg p-6">
      <h2 class="text-lg font-semibold flex items-center gap-2">
        <span>📍</span> Cumulative Distance
      </h2>
      <p class="text-sm text-gray-500 mb-4">Track your total distance covered.</p>

      <div class="flex items-center gap-2 my-4">
        <input id="distance-input" type="number" placeholder="Enter distance" class="border border-gray-300 p-2 rounded w-full" />
        <select id="distance-unit" class="border border-gray-300 p-2 rounded">
          <option value="km">km</option>
          <option value="mi">mi</option>
        </select>
      </div>

      <label class="text-sm text-gray-600">Distance: Custom Cities</label>
      <div class="flex items-center gap-2 my-3">
        <select class="border border-gray-300 p-2 rounded w-full">
          <option>Anchorage</option>
        </select>
        <span>to</span>
        <select class="border border-gray-300 p-2 rounded w-full">
          <option>Ushuaia</option>
        </select>
      </div>

      <div class="h-1 bg-gray-200 rounded">
        <div id="distance-progress" class="h-full bg-emerald-500 w-0 rounded transition-all duration-500"></div>
      </div>

      <div class="relative mt-6 h-10 w-full bg-gray-100 border border-gray-300 rounded overflow-hidden">
        <div class="absolute top-0 left-0 h-full w-full flex items-center justify-between px-4 text-xs text-gray-500">
          <span>Anchorage</span>
          <span>Ushuaia</span>
        </div>
        <div id="distance-trail" class="absolute top-1/2 -translate-y-1/2 h-1 bg-emerald-300 transition-all duration-300" style="left: 0; width: 0%;"></div>
        <div id="distance-marker" class="absolute top-1/2 -translate-y-1/2 text-2xl transition-all duration-300" style="left: 0%">🏃‍♀️</div>
      </div>
    </section>

    <!-- Elevation Card -->
    <section class="bg-white shadow rounded-lg p-6">
      <h2 class="text-lg font-semibold flex items-center gap-2">
        <span>🏔️</span> Cumulative Elevation Gain
      </h2>
      <p class="text-sm text-gray-500 mb-4">Your total elevation climbed compared to famous landmarks.</p>

      <label class="text-sm text-gray-600 mb-1 block">Compare Elevation To:</label>
      <select id="elevation-reference" class="border border-gray-300 p-2 rounded w-full mb-3">
        <option value="8849">Mount Everest (8849m)</option>
      </select>

      <div class="text-3xl font-bold text-emerald-700 flex items-center gap-2">
        <span id="elevation-display">0</span><span>m</span>
      </div>

      <input id="elevation-input" type="number" placeholder="0" class="border border-gray-300 p-2 rounded w-full my-4" />

      <p class="text-xs text-gray-600">
        Climb some hills or adjust dates to see how high you've gone!
      </p>

      <div class="border-t border-gray-200 my-4"></div>

      <div class="text-center text-sm text-gray-600">
        <strong>Your Climb vs. Mount Everest</strong><br/>
        <div class="relative mx-auto mt-2 h-16 w-full max-w-xs">
          <svg viewBox="0 0 100 40" class="absolute inset-0 w-full h-full text-gray-300">
            <polygon points="0,40 20,25 40,10 60,25 80,40 100,40" fill="currentColor" />
            <line id="climb-line" x1="0" y1="40" x2="100" y2="40" stroke="#10B981" stroke-width="2" />
            <polygon id="climber-icon" points="98,42 100,38 102,42" fill="#10B981" />
          </svg>
          <div id="climb-label" class="absolute left-[42px] text-xs text-emerald-700 font-semibold transition-all duration-200 bottom-8">
            0%
          </div>
        </div>
        <p id="elevation-progress-text">Start climbing or adjust date range to visualize your progress!</p>
      </div>
    </section>
  </main>

  <script>
    const totalDistance = 14736;

    document.getElementById("distance-input").addEventListener("input", () => {
      const input = parseFloat(document.getElementById("distance-input").value) || 0;
      const unit = document.getElementById("distance-unit").value;
      const km = unit === "mi" ? input * 1.60934 : input;
      const percent = Math.min((km / totalDistance) * 100, 100).toFixed(1);

      document.getElementById("distance-progress").style.width = `${percent}%`;
      document.getElementById("distance-marker").style.left = `calc(${percent}% - 0.75rem)`;
      document.getElementById("distance-trail").style.width = `${percent}%`;
    });

    document.getElementById("elevation-input").addEventListener("input", () => {
      const elevation = parseFloat(document.getElementById("elevation-input").value) || 0;
      const reference = parseFloat(document.getElementById("elevation-reference").value);
      const percent = Math.min(elevation / reference, 1);

      document.getElementById("elevation-display").textContent = elevation;

      const baseY = 40;
      const peakY = 10;
      const climbY = baseY - (baseY - peakY) * percent;

      document.getElementById("climb-line").setAttribute("y1", climbY);
      document.getElementById("climb-line").setAttribute("y2", climbY);

      const climberIcon = document.getElementById("climber-icon");
      if (climberIcon) {
        const lockedY = percent >= 1 ? peakY : climbY;
        climberIcon.setAttribute("points", `98,${lockedY + 2} 100,${lockedY - 2} 102,${lockedY + 2}`);
      }

      const label = document.getElementById("climb-label");
      label.style.bottom = `${(percent * 30) + 8}px`;
      label.textContent = `${Math.round(percent * 100)}%`;

      document.getElementById("elevation-progress-text").textContent =
        percent > 0 ? `You're ${Math.round(percent * 100)}% of the way up your goal!`
                    : "Start climbing or adjust date range to visualize your progress!";
    });
  </script>
</body>
</html>
